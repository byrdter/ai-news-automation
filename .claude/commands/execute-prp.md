# Execute Pydantic AI + MCP + LangChain PRP

Implement a multi-agent system using Pydantic AI, MCP servers, LangChain/LangGraph workflows, and Claude Code Co-agents architecture.

## PRP File: $ARGUMENTS

## Execution Process

1. **Load and Analyze PRP**
   - Read the specified PRP file completely
   - Understand all agent requirements, tool specifications, and workflow needs
   - Follow all instructions and extend research if needed for multi-agent patterns
   - Ensure comprehensive context for agent coordination and MCP integration
   - Research additional documentation for Pydantic AI, MCP, and LangGraph as needed

2. **ULTRATHINK: Multi-Agent Architecture Planning**
   - Plan agent specializations and responsibility boundaries
   - Design MCP server architecture and tool registration strategy
   - Architect LangGraph workflows with proper state management
   - Plan agent coordination and communication protocols
   - Design database schema and dependency injection patterns
   - Use TodoWrite tool to create detailed implementation plan

3. **Execute Implementation Plan**
   - **Phase 1**: Core infrastructure (database, configuration, base classes)
   - **Phase 2**: MCP servers with tool implementations
   - **Phase 3**: Pydantic AI agents with proper dependency injection
   - **Phase 4**: LangGraph workflows and agent coordination
   - **Phase 5**: Integration testing and validation
   - **Phase 6**: Documentation and deployment preparation

4. **Multi-Agent System Validation**
   - **Agent Testing**: Individual agent functionality and tool usage
   - **MCP Server Testing**: Tool registration, error handling, rate limiting
   - **Workflow Testing**: LangGraph state management and error recovery
   - **Integration Testing**: Agent coordination and communication
   - **Performance Testing**: Cost optimization and response times
   - **End-to-End Testing**: Complete system workflows

5. **Specialized Validation Gates**
   - Agent auto-discovery descriptions are precise and unique
   - MCP tools are properly registered and accessible
   - LangGraph workflows handle error states and recovery
   - Database connections and migrations work correctly
   - Environment variables and secrets are properly managed
   - Cost tracking and monitoring is implemented

6. **Quality Assurance**
   - All agent interactions work as designed
   - MCP servers deploy and connect successfully
   - Workflows execute without state corruption
   - Error handling covers all failure modes
   - Documentation covers setup and usage
   - Performance meets requirements

7. **Completion Validation**
   - Re-read PRP to ensure all requirements implemented
   - Validate agent coordination patterns
   - Confirm MCP tool accessibility and functionality
   - Test workflow orchestration and error recovery
   - Verify cost optimization measures
   - Document any deviations or improvements made

## Multi-Agent System Specific Notes

- **Agent Context Isolation**: Ensure each agent operates in isolated context
- **Tool Access Control**: Validate proper MCP tool permissions per agent
- **Workflow State Management**: Confirm LangGraph state persistence and recovery
- **Cost Monitoring**: Implement usage tracking across all agents and tools
- **Error Propagation**: Test error handling between agents and workflows

Note: Multi-agent systems require thorough validation of coordination patterns and failure modes.